{% extends "base.html" %}
{% block charts_quarter_head %}
<title>
    {{company_symbol}}'s {{fin_metric_name}}?
                    |
                    {{ earliest_year }}
                    -
                    2021
                    | {{company_short_name}} | Charts.$10
</title>

<!-- <script src="https://cdn.datatables.net/1.10.23/js/dataTables.bootstrap4.min.js"></script>

<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.23/css/dataTables.jqueryui.min.css"> -->
<script src="https://code.highcharts.com/maps/modules/map.js"></script>
<style>
    #qaz_page-qaz_tabs #qaz_panels .qaz_panel-wrapper{padding: 0px !important}
@import url(https://fonts.googleapis.com/css?family=Rubik);

a:hover {
  cursor: pointer;
}

</style>

  <script>
  window.console = window.console || function(t) {};
</script>



  <script>
  if (document.location.search.match(/type=embed/gi)) {
    window.parent.postMessage("resize", "*");
  }
</script>

<link rel="stylesheet" href="{{ url_for('static', filename='../static/css/sliding_tabs.css') }}">

<link rel="stylesheet" href="{{ url_for('static', filename='../static/css/datatable_style.css') }}">


<!-- 
<script src="{{ url_for('static', filename='../static/js/quarterly.js') }}"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js'></script>

  <script src="https://code.highcharts.com/stock/highstock.js"></script>
  <script src="{{ url_for('static', filename='../static/js/chart.js') }}"></script>
  <script src="{{ url_for('static', filename='../static/modules/data.js') }}"></script>
  <script src="{{ url_for('static', filename='../static/modules/export-data.js') }}"></script>
  <script src="{{ url_for('static', filename='../static/modules/exporting.js') }}"></script>

  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.22/css/jquery.dataTables.min.css"/>
  <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script> -->




  <style>
/* table {border-spacing: 0;
border-collapse: collapse;
}
.cell { width: 20px; height: 20px; }
.odd { background-color: brown }
.even { background-color: pink }
      .page-content {
      	max-width: 1200px;
      	margin: 32px auto;
      	padding: 32px;
        background: #fff;
        margin: 0
      } */
</style>

<script>
    //    document.addEventListener('DOMContentLoaded', function (data) {
    //         var myChart = Highcharts.stockChart('highbar', {
    //           // lang: {
    //           //     numericSymbols: [' thousands', ' millions', 'billions']
    //           // },
    //           chart: {
    //               borderWidth: 2,
    //               marginRight: 100
    //           },
    //                 title: {
    //                     text: 'AAPL Stock Volume'
    //                 },
    //                 rangeSelector: {
    //                     inputPosition: {                    // align: 'left',
    //                         x: 0,                    y: 0                },
    //                     buttonPosition: {                    // align: 'right',
    //                         x: 0,                    y: 0                }
    //                     ,
    //                     buttons: [
    //             {
    //             type: 'year',        count: 3,        text: '3Y'    }, {
    //             type: 'year',        count: 5,        text: '5Y'    }, {
    //             type: 'year',        count: 10,        text: '10y'  }, {
    //             type: 'all',        text: 'All'    }                   ]
    //                 },
    //                 xAxis:{
    //                     tickInterval: 1 * 24 * 3600 * 1000 // interval of 1 day
    //                 },
    //                 yAxis:{
    //                   minPadding:100,
    //                           tooltip: {
    //                           formatter: function (tooltip) {
    //                           }
    //                       },
    //         labels:{
    //                         align: 'right',
    //                   x: 50,
    //                   y: 0,
    //                           formatter:function(){
    //                       if(this.value >= 1000000000){
    //                           return ('$' + this.value / 1000000000) + 'B';
    //                       }
    //                       else if(this.value >= 1000000) {
    //                           return ('$' + this.value / 1000000) + 'M';
    //                       }
    //                       else if(this.value >= 1000) {
    //                           return ('$' + this.value / 1000) + 'K';
    //                       }
    //                       else {
    //                           return '$' + this.value;
    //                       }
    //                   }
    //         }
    //     },
    //                 series: [{
    //                     type: 'column',
    //                     name: 'AAPL Stock Volume',
    //                     data:{{df_json}},
    //                 }]
    //             });
    //         });
</script>

        <script>
            document.addEventListener('DOMContentLoaded', function (data) {
                // df_json = {{ df_json }};
                // year_df_json = {{ year_df_json }};
                // price_json = {{ price_json }};
                var groupings = ['sum', 'average', 'sum'];  // NOTE: FSDF
                Highcharts.dateFormats = {
                    q: function (timestamp) {
                        var date = new Date(timestamp),
                            quarter = (Math.floor(date.getUTCMonth() / 3) + 1);
                        // console.log(quarter);
                        return quarter;
                    }
                };
                // (function (H) { // internal functions
                    // function stopEvent(e) {
                    //     if (e) {
                    //         if (e.preventDefault) {
                    //             e.preventDefault();
                    //         }
                    //         if (e.stopPropagation) {
                    //             e.stopPropagation();
                    //         }
                    //         e.cancelBubble = true;
                    //     }
                    // }
                    // the wrap
                    // H.wrap(H.Chart.prototype, 'render', function (proceed) {
                    //     var chart = this,
                    //         mapNavigation = chart.options.mapNavigation;
                    //     proceed.call(chart);
                    //     // Add the mousewheel event
                    //     H.addEvent(chart.container, document.onmousewheel === undefined ? 'DOMMouseScroll' : 'mousewheel', function (event) {
                    //         var delta,
                    //             extr,
                    //             step,
                    //             newMin,
                    //             newMax,
                    //             axis = chart.xAxis[0];
                    //         var dataMax = chart.xAxis[0].dataMax,
                    //             dataMin = chart.xAxis[0].dataMin,
                    //             stepDivisor = 5,
                    //             newExtrMin,
                    //             newExtrMax;
                    //         e = chart.pointer.normalize(event);
                    //         // Firefox uses e.detail, WebKit and IE uses wheelDelta
                    //         delta = e.detail || -(e.wheelDelta / 120);
                    //         delta = delta < 0 ? 1 : -1;
                    //         if (chart.isInsidePlot(e.chartX - chart.plotLeft, e.chartY - chart.plotTop)) {
                    //             extr = axis.getExtremes();
                    //             step = (extr.max - extr.min) / stepDivisor * delta;
                    //             if ((extr.min + step) <= dataMin) {
                    //                 newExtrMin = dataMin;
                    //                 newExtrMax = extr.max;
                    //             } else if ((extr.max + step) >= dataMax) {
                    //                 newExtrMin = extr.min;
                    //                 newExtrMax = dataMax;
                    //             } else {
                    //                 newExtrMin = extr.min + step;
                    //                 newExtrMax = extr.max + step;
                    //             } axis.setExtremes(newExtrMin, newExtrMax, true, false);
                    //         }
                    //         stopEvent(event); // Issue #5011, returning false from non-jQuery event does not prevent default
                    //         return false;
                    //     });
                    // });
                // }(Highcharts));
                var myChart = Highcharts.stockChart('highbar', {
                    // SECTION - Highcharts - top
                    chart: {
                        zoomType: 'x'
                    },
                    legend: {
                        enabled: true,
                        // verticalAlign: 'top',
                        backgroundColor:'#FFFFFF',
                        borderColor:'#E9E9E9',
                        borderWidth:2,
                    },
                    // animation: false,
                    navigator: {
                        // enabled: false
                    },
                    // tooltip: {
                    //     enabled: false,
                    //     shared: false,
                    //     crosshairs: true
                    // },
                    mapNavigation: {
                        enabled: true,
                        enableButtons: true,//false
                    },
                    responsive: {
                        rules: [
                            {
                                condition: {
                                    maxWidth: 500
                                },
                                // width: '1000',
                                chartOptions: {
                                    chart: {},
                                    subtitle: {
                                        // text: null
                                    },
                                    navigator: {
                                        // enabled: false
                                    },
                                    rangeSelector: {inputEnabled: false},
                                    plotOptions: {
                                        line:{
                                        dataLabels:{
                                            enabled:false,
                                            // format: "FY {point.x:%y}",
                                            }
                                        },
                                        spline:{
                                            visible:false,
                                            labels:{
                                                // enabled: false,
                                                // visible:false,
                                            }
                                        }


                                },
                                    legend: {
                                        enabled: true,
                                        verticalAlign: 'bottom',
                                    },
                                    mapNavigation: {
                                        enabled: false,
                                        enableButtons: false,//false
                                    },
                                    yAxis: [
                                        {
                                            yAxis: 2,
                                            opposite: true,
                                            labels:{
                                                // enabled: false,
                                            },
                                        },
                                    {
                                            yAxis: 1,
                                            opposite: false,
                                            labels:{
                                                enabled: false,
                                            },
                                        },
                                        {
                                            yAxis: 1,
                                            opposite: true,
                                            labels:{
                                                // enabled: false,
                                            },
                                        },
                                        {
                                            yAxis: 0,
                                            enabled: false,
                                            // opposite: true,
                                            labels:{
                                                enabled: false,
                                            },
                                        },
                                    ],
                                    xAxis: {
                                        labels:{
                                            // enabled: false,
                                        },
                                            scrollbar: {
                                                enabled: false
                                            },
                                    },
                                                }
                                            }
                                        ]
                                    },
                    chart: {
                        // margin: [0, 70, 0, 70],
                        alignTicks: true,
                        credits: {
                            enabled: false
                        },
                        style: {
                            fontFamily: "'Nunito Sans', Verdana, Arial, Helvetica, sans-serif",
                            textOutline: false,
                            fontSize: "14px"
                        },
                        // borderWidth: 2,
                        // marginRight: 100,
                        // marginLeft: 100,
                        marginTop: 10,
                        renderTo: 'highbar',
                        events: {
                            render() {
                                var ticks = this.xAxis[0].ticks,
                                    ticksPositions = this.xAxis[0].tickPositions,
                                    tick0x,
                                    tick1x,
                                    getPosition = function (tick) {
                                        var axis = tick.axis;
                                        return Highcharts.Tick.prototype.getPosition.call(tick, axis.horiz, tick.pos, axis.tickmarkOffset);
                                    };
                                tick0x = getPosition(ticks[ticksPositions[0]]).x;
                                tick1x = getPosition(ticks[ticksPositions[1]]).x;
                                this.xAxis[0].labelGroup.translate((tick1x - tick0x) / 2)
                            }
                        },
                        zoomType: 'x',
                        // resetZoomButton: {
                        //     position: {
                        //         // align: 'right', // by default
                        //         // verticalAlign: 'top', // by default
                        //         x: 0,
                        //         y: -30
                        //     }
                        // }
                    },
                    title: {
                        // text: '{{company_symbol}} Stock Price & {{ fin_metric_name }}',
                        // borderRadius: 5,
                        // backgroundColor: 'rgba(252, 255, 197, 0.7)',
                        // borderWidth: 1,
                        // borderColor: '#AAA',
                    // useHTML: true,
                    style: {
                        color: '#000000',
                        backgroundColor: '#FFFFFF',
                        fontWeight: 'bold',
                        // font: 'bold 10pt "Arial Narrow"',
                        // wordWrap:'break-word',
                        // width : "100px"
                    },
                        // verticalAlign: 'bottom',
                    },
                    rangeSelector: { // SECTION - Highcharts - range selector
                        selected: 3,
                        inputBoxWidth: 100,
                        // verticalAlign: 'bottom',
                        inputDateFormat: '  %Y-%m-%d',
                        inputEditDateFormat: '%Y-%m-%d',
                        inputPosition: {
                            // align: 'center',
                            // x: 10,
                            // y: 0,
                        },
                        buttonPosition: { // align: 'right',
                            x: 0,
                            y: 0
                        },
                        buttons: [
                            {
                                type: 'year',
                                count: 3,
                                text: '3Y',
                                dataGrouping: {
                                    enable: true
                                }
                            }, {
                                type: 'year',
                                count: 5,
                                text: '5Y',
                                dataGrouping: {
                                    enable: true
                                }
                            }, {
                                type: 'year',
                                count: 10,
                                text: '10y',
                                dataGrouping: {
                                    enable: false
                                }
                            }, {
                                type: 'all',
                                text: 'All',
                                dataGrouping: {
                                    enable: false,
                                    approximation: groupings[4]
                                }
                            }
                        ]
                    },
                    xAxis: [
                        {
                            // opposite: true,
                            // SECTION - Highcharts - xAxis = top
                            // top:100,
                            startOnTick: true,
                            endOnTick: true,
                            // events: {
                            //     afterSetExtremes: function () {
                            //         this.displayBtn ? $('.highcharts-scrollbar').show() : $('.highcharts-scrollbar').hide()
                            //     },
                            // },
                            scrollbar: {
                                enabled: false
                            },
                            // zoomType: 'x',
                            // events: {
                            //     afterSetExtremes: function () {
                            //         this.displayBtn ? $('.highcharts-scrollbar').show() : $('.highcharts-scrollbar').hide()
                            //     },
                            //     load: function () {
                            //         $('.highcharts-scrollbar').hide()
                            //     }
                            // },
                            labels: {
                                style: {
                                    color: '#black', // 'red'
                                    fontSize: '14px'
                                }
                            },
                            // visible: false,
                            crosshair: {
                                width: 2,
                                color: '#1C9179',
                                snap: false,
                                className: "x_crosshair",
                                zIndex: 100
                            },
                            type: 'datetime',
                            dateTimeLabelFormats: {
                                month: 'Q%q %Y', //'%Y', // 'Q%q - %y',
                                year: '%Y'
                            },
                            // alternateGridColor: '#FDFFD5', // '#FEF8E3'
                            minPadding: 0,
                        }, {
                            labels: {
                                style: {
                                    color: 'black', // 'red'
                                    fontSize: '14px',
                                    fontWeight: 'bold'
                                }
                            },
                            crosshair: {
                                width: 2,
                                color: '#1C9179',
                                snap: false,
                                className: "x_crosshair",
                                zIndex: 100
                            },
                            type: 'datetime',
                            dateTimeLabelFormats: {},
                            format: '{value:%Y}',
                            minPadding: 0
                        },
                    ],
                    plotOptions: {
                        // series: {
                        //     dataLabels:{
                        //         // overflow: "allow",
                        //         // crop: "false",
                        //     }
                        // },

                        // !!!!!!
                        line: { // SECTION - Highcharts - plotOptions - line
                            allowPointSelect: true,
                            connectNulls: true,
                            dataLabels: {
                                // overflow: "allow",
                                // crop: "false",
                                enabled: true,
                                // format: "FY {point.x:%Y}", // "{point.x:%b %e}",
                                borderRadius: 5,
                                formatter: function() {
                                    var point1 = this.series.data[this.series.data.length - 1];
                                    if(((Highcharts.dateFormat('%y', this.x)) % 4 == 0) && (this.point != point1)) {
                                        return '<span style="color:black; opacity:1;">FY ' + Highcharts.dateFormat('%Y', this.x) +'</span>';
                                    }
                                    else if ((Highcharts.dateFormat('%y', this.x)) % 4 != 0){
                                    return '';} //'%b/%e/%Y'
                                    else if (this.point == point1){
                                        var latest_stock_price = this.y;
                                    // return Highcharts.dateFormat('%Y', this.x);}
                                    // return '';}
                                    return '<span style="color:black; opacity:1;">FY ' + Highcharts.dateFormat('%Y', this.x) +'</span>';}
                                },
                                backgroundColor: "#FFFFFF", //'rgba(252, 255, 197, 0.7)',
                                // backgroundColor: 'rgba(252, 255, 197, 0.7)',
                                borderWidth: 1,
                                borderColor: '#AAA',
                                // x:10,
                                // y: 50,
                                opacity: 1,
                            },
                            pointPlacement: 'on'
                        },
                        spline: { // SECTION - Highcharts - plotOptions - area
                        },
                        // column: { // SECTION - Highcharts - plotOptions- column
                        //     groupPadding: 0.1,
                        //     color: '#D6D9BF',
                        // },
                        area: {
                            
                            // name: 'Quarterly Data',
                            // groupPadding: 0,
                            // dataGrouping: {
                            //     enabled: false
                            // },
                            // type: 'line',
                            // xAxis: 0,
                            // visible: false,
                            // labels:{
                            //     visible: false,
                            // }

                        },
                        series: {
                            type: 'area',
                            // type: 'column',
                            
                            marker: {
                                enabled: false,
                                radius: 4,
                                // fillColor: '#1ebd1e',
                                enabled: true,
                                zIndex: 100
                            },
                            xAxis: 0,
                            name: "Stock Price",
                            dataGrouping: {
                                enabled: false
                            },
                                                        tooltip:{
                                enabled: false,
                            },
                            states: {
                                inactive: {
                                    opacity: 1
                                }
                            }
                        }
                    },
                    yAxis: [ // SECTION - Highcharts - yAxis
                        {
                            yAxis: 1,
                            maxPadding: 0.1,
                            crosshair: {
                                width: 2,
                                color: '#1C9179',
                                snap: false,
                                className: "y_crosshair",
                                zIndex: 100
                            },
                            // tickAmount: 6,
                            opposite: false,
                            gridLineColor: 'transparent',
                            // height:'90%',
                            // tickPixelInterval: 70,
                            tickPositioner: function () {
                                var positions = [],
                                    tick = this.dataMin, // Math.floor(this.dataMin),
                                    // https://stackoverflow.com/questions/31925204/highcharts-line-charts-out-of-memory
                                    // increment = Math.ceil((this.dataMax - this.dataMin) / 6);
                                    increment = Math.max(1,Math.ceil((this.dataMax - this.dataMin) / 6));
                                for (; tick - increment <= this.dataMax; tick += increment) {
                                    positions.push(tick);
                                }
                                return positions;
                            },
                            labels: {
                                style: {
                                    color: '#4285F4', // '#3D7198', // '#4285F4', // 'red'
                                    fontSize: '14px',
                                    // fontWeight: 'bold',
                                },
                                overflow: 'justify',
                                formatter: function(){
                                    zoom_values_stock_price = $(this.axis.tickPositions)
                                    price_percent = Math.round(100 * this.value / zoom_values_stock_price[0])-100
                                    price_percent = price_percent.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",")
                                    return '<span style="">' + '<b>{{ currency_symbol }}' + Math.round(this.value*100)/100 +'</b><br>' + price_percent + '' + '%' + '</span>'; // zoom_values[0];//
                                },
                                align: 'right'
                            },
                            // tickPixelInterval: 70,
                        },
                        {
                            yAxis: 2,
                            opposite: false,
                            visible: false,
                            labels: {
                                enabled: false,

                            }

                        },
                        {// SECTION - Highcharts - yAxis - metric - percent
                            opposite:true,
                            yAxis: 1,
                            title:'metric',
                            {% if statement_or_ratio != "sratios" %}
                            {% endif %}
                            tickPositioner: function () {
                                the_minimum = this.dataMin
                                var positions = [],
                                    tick = Math.floor(this.dataMin*100),
                                    // increment = Math.ceil((this.dataMax*100 - this.dataMin*100) / 6);
                                    increment = Math.max(1,Math.ceil((this.dataMax*100 - this.dataMin*100) / 6));
                                for (; tick - increment <= this.dataMax*100; tick += increment) {
                                    positions.push(tick/100);
                                }
                                return positions;
                            },

                            labels: { // SECTION - Highcharts - yAxis - labels
                                style: {
                                    color: "#19a419", // '#177737', // 'red'
                                    fontSize: '14px'
                                },
                                overflow: 'justify',
                                // x: 50,
                                align: 'left',
                                formatter: function () {
                                    zoom_values_fy_metric = $(this.axis.tickPositions)
                                    var old = this.axis.defaultLabelFormatter.call(this)
                                    if (zoom_values_fy_metric[0] != 0) {
                                        metric_percent = (Math.round(100 * this.value / zoom_values_fy_metric[0]))-100;
                                        metric_percent = metric_percent.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",").replace("-","").replace("NaN","") + '%'
                                    } else if (zoom_values_fy_metric[0] == 0) {
                                        metric_percent = ""
                                    }
                                    // metric_percent = zoom_values_fy_metric[0]

                                    return('<b>  {{ currency_symbol }}' + this.value + '</b>' + '<br>' + metric_percent);


                                    // if (this.value >= 1000000000 || this.value <= -1000000000) {

                                    //     billion_rounded = Math.round((this.value / 1000000000) * 1) / 1;
                                    //     return('<b>  {{ currency_symbol }}' + billion_rounded + 'B</b>' + '<br>' + metric_percent);
                                    // } else if (this.value >= 1000000 || this.value <= -1000000) {
                                    //     million_rounded = Math.round((this.value / 1000000) * 1) / 1;
                                    //     return('<b>  {{ currency_symbol }}' + million_rounded) + 'M</b>' + '<br>' + metric_percent;
                                    // } else if (this.value >= 1000 ||  this.value <= -1000) {
                                    //     thousand_rounded = Math.round((this.value / 1000) * 1) / 1;
                                    //     return('<b>  {{ currency_symbol }}' + this.value / 1000) + 'K</b>' + '<br>' + metric_percent;
                                    // }

                                    // // else if (this.value <= 10000 &&  this.value => -10000) {
                                    // //     million_rounded = Math.round((this.value / 1) * 100) / 100;
                                    // //     return('<b>' + million_rounded) + '</b>' + '<br>' + metric_percent + '%';
                                    // // }
                                    // else { // return '<b>$' + this.y + '</b>';
                                    //     million_rounded = Math.round((this.value / 1) * 100) / 100;
                                    //     return('<b>' + million_rounded) + '</b>' + '<br>' + metric_percent;
                                    // }
                                }
                            },
                            // tickPixelInterval: 70,
                        },
                    ],
                    // SECTION - Highcharts - yAxis - tooltip (formatter)
                    series: [
                        {
                            type: 'spline',
                            marker: {
                                enabled: false,
                            },
                            name: 'Stock Price',
                            color: '#4285F4', // '#3D7198', //#4285F4', // robinhood green
                            // pointInterval: 1,
                            // pointIntervalUnit: 'year',
                            tooltip: {
                                // TODO make the datapoint markers better
                                backgroundColor: '#FFFFFF', // '#1ebd1e', // 'red'
                                opacity: .7,
                                style: {
                                    color: '#000000',
                                    fontSize: '14px',
                                    fontWeight: 'bold'
                                },
                                enabled: true,
                                shared: true,
                                valuePrefix: "{{ currency_symbol }}",
                                pointFormatter: function () {
                                    // https://stackoverflow.com/questions/25973920/how-to-display-highchart-series-line-marker-symbol-from-tooltip-formatter
                                    // ●♦■▲▼
                                    stock_price = Math.round((this.y) * 100) / 100;
                                    return '♦ ' + this.series.name + ' <b>  {{ currency_symbol }}' + stock_price + '</b>';
                                }
                            },
                            data: price_json,
                            zIndex: 98,
                            yAxis: 0,
                        },
                        {
                            // SECTION - Highcharts - series - all
                            type: 'area', // type: 'column',
                            lineWidth: 0,
                            color: 'transparent',
                            borderColor: 'transparent',
                            showInLegend: false,
                            // fillOpacity: .1,
                            // color: "#19a419", //"#177737",
                            marker: {
                                enabled: false,
                            },
                            name: 'Quarterly (Q)   {{ fin_metric_name }}',
                            // pointInterval: 1,
                            // pointIntervalUnit: 'year',
                            tooltip: {
                                enabled: false,
                                // // split: true,
                                // shared: true,
                                // xDateFormat: 'Q%q %Y',
                                // shadow: true,
                                // borderWidth: 1,
                                // borderColor: '#AAA',
                                // backgroundColor: '#FFFFFF', // '#1ebd1e', // 'red'
                                // opacity: .7,
                                // style: {
                                //     color: '#000000',
                                //     fontSize: '14px',
                                //     fontWeight: 'bold'
                                // },
                                // enabled: true,
                                // // shared: false,
                                // valuePrefix: "{{ currency_symbol }}",
                                // pointFormatter: function () {
                                //     // ●♦■▲▼
                                //     // this.series.name
                                //     tooltip_legend = Highcharts.dateFormat('Q%q %Y', this.x) + ' '; // '● '+ this.series.name
                                //     if (this.y >= 1000000000 || this.y <= -1000000000) {
                                //         billion = this.y / 1000000000;
                                //         billion_rounded = Math.round((billion) * 10) / 10;
                                //         return(tooltip_legend + '<b>  {{ currency_symbol }}' + billion_rounded) + 'B</b>';
                                //     } else if (this.y >= 1000000 || this.y <= -1000000) {
                                //         million = this.y / 1000000
                                //         million_rounded = Math.round((million) * 10) / 10;
                                //         return(tooltip_legend + '<b>  {{ currency_symbol }}' + million_rounded) + 'M</b>';
                                //     } else if (this.y >= 10000 || this.y <= -10000) {
                                //         thousand = this.y / 1000
                                //         thousand_rounded = Math.round((thousand) * 10) / 10;
                                //         return(tooltip_legend + '<b>  {{ currency_symbol }}' + this.y / 1000) + 'K</b>';
                                //     } else { // return '<b>$' + this.y + '</b>';
                                //         ratio = this.y / 1
                                //         million_rounded = Math.round((ratio) * 100) / 100;
                                //         return(tooltip_legend + '<b>' + million_rounded) + '</b>';
                                //     }
                                // },
                                // positioner: function (width, height, point) {
                                //     var chart = this.chart,
                                //         position;
                                //     if (point.isHeader) {
                                //         position = {
                                //             x: Math.max(
                                //                 // Left side limit
                                //                 chart.plotLeft,
                                //                 Math.min(point.plotX + chart.plotLeft - width / 2,
                                //                 // Right side limit
                                //                 chart.chartWidth - width - chart.marginRight)
                                //             ),
                                //             y: point.plotY
                                //         };
                                //     } else {
                                //         position = {
                                //             x: point.series.chart.plotLeft,
                                //             y: point.series.yAxis.top - chart.plotTop
                                //         };
                                //     }
                                //     return position;
                                // },
                                // shape: 'square',
                                // headerShape: 'callout',
                                // borderWidth: 1,
                                // borderColor: '#AAA',
                                // shadow: false
                            },
                            data: df_json,
                            zIndex: 98,
                            yAxis: 1,
                            // xAxis: 0,
                        }, {
                            type: 'spline',
                            yAxis: 2,
                            zIndex: 100,
                            marker: {
                                enabled: false,
                            },
                            tooltip: {
                                enabled: false,
                                // shared: true,
                                // xDateFormat: 'FY %Y',
                                // '%b - %Y'
                                // backgroundColor: '#1ebd1e',
                                // tooltip_legend = '● '+ this.series.name
                                // tooltip_legend +
                                // valuePrefix: "{{ currency_symbol }}",
                                // pointFormatter: function () {
                                // // formatter: function () {
                                //     // ●♦■▲▼
                                //     // tooltip_legend = this.series.name + ' '; //'● '+ this.series.name
                                //     tooltip_legend = Highcharts.dateFormat('FY %Y', this.x) + ' '; // '● '+ this.series.name
                                //     if (this.y >= 1000000000 || this.y <= -1000000000) {
                                //         billion = this.y / 1000000000;
                                //         billion_rounded = Math.round((billion) * 10) / 10;
                                //         return(tooltip_legend + '<b>  {{ currency_symbol }}' + billion_rounded) + 'B</b>';
                                //     } else if (this.y >= 1000000 || this.y <= -1000000) {
                                //         million = this.y / 1000000
                                //         million_rounded = Math.round((million) * 10) / 10;
                                //         return(tooltip_legend + '<b>  {{ currency_symbol }}' + million_rounded) + 'M</b>';
                                //     } else if (this.y >= 10000  || this.y <= -10000) {
                                //         thousand = this.y / 1000
                                //         thousand_rounded = Math.round((thousand) * 10) / 10;
                                //         return(tooltip_legend + '<b>  {{ currency_symbol }}' + this.y / 1000) + 'K</b>';
                                //     } else { // return '<b>$' + this.y + '</b>';
                                //         ratio = this.y / 1
                                //         million_rounded = Math.round((ratio) * 100) / 100;
                                //         return(tooltip_legend + '<b>' + million_rounded) + '</b>';
                                //     }
                                // },

                            },
                            // pointInterval: 1,
                            // pointIntervalUnit: 'year',
                            color: "#19a419", //'#177737', // '#343A40', // '#1C9179',
                            lineWidth: 3,
                            xDateFormat: '%Y',
                            findNearestPointBy: 'xy',
                            data: year_df_json
                        },
                    ]
                });
                var screen_size = $(window).width();
                if (screen_size < 768)
                // var x = window.matchMedia("(max-width: 700px)")
                // if (x.matches)
                {
                // document.getElementsByClassName("highbar_mobile")[0].style.marginLeft = (-.1*screen_size)+"px";
                // myChart.setSize(screen_size*1.1);
                }
                else {
                // alert('More than 960');
                // myChart.setSize(200);
                }
            });
        </script>
        <script>
                var df_json = ""; //{{ df_json }};
                var year_df_json =  {{ df_json }}; //"";//
                var price_json =  "";//{{ df_json }};
                var currency_symbol = "$"
        </script>
{% endblock %}
        {% block quarterly_body %}
</div>




<script type="text/javascript" src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.4/js/dataTables.buttons.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.4/js/buttons.html5.min.js"></script>
<!-- <script type="text/javascript" src="https://code.highcharts.com/highcharts.js"></script> -->
<script type="text/javascript" src="https://code.highcharts.com/modules/no-data-to-display.js"></script>
<div class="d-flex flex-column" id="content-wrapper">
    <div class="row rightrow">
        <!-- <div class="col-md-9 col-lg-9 col-xl-9">  -->
            <div class="col-md-8 col-lg-8 col-xl-8">
            <div class="text-dark h1_info left_side">
                <!-- <h1 class="text-primary mb-0 pad-10-top pad-10-bottom pad-10-left pad-10-right"> -->
                <!-- <h1>What is {{company_symbol}}'s {{fin_metric_name}}?</h1> -->
                    <!-- <br> -->
                    <h3 class="text-primary mb-0 pad-10-top pad-10-bottom">
                    <strong>
                        {{df_image_name}}&nbsp;
                        {{ company_long_name }}
                    (
                    {{ company_symbol }}
                    )





                    <!-- {{ fin_metric_name }} -->
                    |
                    {{ earliest_year }}
                    -
                    <!-- {{ latest_year }}  -->
                    2021
                    ({{ num_years }} years)
                    </strong>
                </h3>
                <!--
                <span class="daily_pct_chg">
                 Stock Price: {{currency_symbol}}{{last_price}}
                 </span>
                {% if last_pct_change_str != "0%" %}
                    {{last_pct_change_str}}
                {% elif pct_chg_num < 0 %}
                {% else %}
                {% endif %} -->
                <!-- <br> -->
                <h2 class="text-primary mb-0">
                    <span class="last12months">
                    <!-- {{ latest_year }} -->
                    <!-- Last 12 Months
                    <br>
                    {{yoy_1_key}}
                    <br>
                    {{yoy_2_key}}
                    <br>
                    {{yoy_1_value}}
                    <br>
                    {{yoy_2_value}} -->
                {{ fin_metric_name }}
                <span class="equals_is"> is </span>
                    <!-- <span class="up_green">
                        <i class="fa fa-arrow-up up_green" aria-hidden="true"></i>
                    </span> -->
                    <!-- : -->
                    </span>
                    <!-- <i class="fa fa-arrow-down down_red" aria-hidden="true"></i> -->
                    <!-- <br> -->
                    {{ last_4_quarters_str }}
                <span class="yoy_subtitle">
                    (1Y
                {{ y_y_chg }}
                )
                </span>
                    <!-- <br> -->
                </h2>
                <!-- <br> -->
                <h2 class="text-primary mb-0">
                    <span class="last12months">
                    <!-- {{ latest_year }} -->
                    <!-- Target price:  {{currency_symbol}}{{stock_price_10_years}} -->

                    <!-- <br> -->
                </h2>
            </div>
            <div class="pad-10-top pad-10-bottom pad-10-left pad-10-right">
                <div class="highbar_container">
                    <div class="highbar_title">
                    {{company_symbol}}
                    <span class="hide_on_mobile">
                    <!-- <span class="highbar_title_stock">
                    Stock Price</span> -->
                     <!-- & -->
                    </span>
                    <span class="highbar_title_metric">
                    Stock Price</span>
                    </div>
                    <div id="highbar" class="highbar_mobile">
                        <!-- <div id="highbar" style="height: 400px; width:100%;"> --></div>
                    <br>
                    {% if company_similar|length > 3 %}

                    Checkout the
                {{ fin_metric_name }}
                for
                {{ company_symbol }}
                competitors<br>
                {{ company_similar }}
                .
                {% endif %}
                </span>
    </div>
</div>
</div>
<div class="col rightside">
    <div class="card shadow border-left-primary py-2 rightside" style="margin: 5px;">
            <!-- <div class="card shadow border-left-primary py-2 sticky-top" style="margin: 10px;"> -->
            <div class="card-body summary_header">
                <h2 class="text-primary mb-0 historical">
                    <!-- Summary Statistics (Annual)
                                <br> -->
                    <!-- {{ fin_metric_name }} -->
                    <!-- <br> -->
                    Historical (All-Time) Stats for <span class="greenish">{{fin_metric_name}}</span>
                    <!-- (
                {{ earliest_year }}
                -
                {{ latest_year }}
                ) -->
                </h2>
                <!-- <du class="text-primary mb-0 historical"></du>All Years -->
                <!-- <br> -->
                <!-- <div class="text-dark font-weight-bold h5 mb-0"></div> -->
            </div>
            <div class="card-body summary_body">
                <div class="text-dark font-weight-bold h5 mb-0"></div>
            <!--
                <div id="tgb_page-tgb_tabs" class="tgb_page-tgb_tabs-css">
                    <ul id="tgb_tabs" class="tgb_tabs-css">
                        <li class="hr_one"><a href="#" class="tabs_title_links"><div class="innerhref">All Years</div></a></li>
                        <li class="hr_two"><a href="#" class="tabs_title_links"><div class="innerhref">Past 10 Years</div></a></li>
                        <hr class="stickyhr" />
                    </ul>
                    <ul id="tgb_panels" class="tgb_panels-css">
                        <li>Panel 1</li>
                        <li>Panel 2</li>
                    </ul>
                </div>
                <script>
                    var selectedTab = 0, // NOTE: FSDF
                        scrollDelay = 20,
                        scrollSpeed = 400,
                        scrolltopOffset = 0;
                    $("#tgb_tabs").children().each(function (i) {
                        i = i + 1;
                        $(this).attr('id', "tab-" + i).addClass("tab").wrapInner(
                            "<div class='tab-wrapper'></div>");
                    });
                    var count = $("#tgb_tabs").children().length-1;
                    var tab_width = (100 / count) + "%";
                    $("#tgb_tabs li").css("width", tab_width).eq(0).addClass('first').end().eq(-1).addClass(
                        'last').end();
                    $("#tgb_panels").children().each(function (i) {
                        i = i + 1;
                        $(this).attr('id', "panel-" + i).addClass("panel").wrapInner(
                            "<div class='panel-wrapper'></div>").prepend(
                            "<div class='accordion-tab'></div>");
                    });
                    $(".accordion-tab").each(function (i) {
                        i = i + 1;
                        var tab_name = $("#tab-" + i).html();
                        $(this).html(tab_name);
                    });
                    $("#tgb_tabs").children().eq(selectedTab).addClass("xactive");
                    $("#tgb_panels").children().eq(selectedTab).addClass("xactive");
                    $("#tgb_tabs > li").click(function () {
                        $("#tgb_tabs > li, #tgb_panels > li").removeClass("xactive");
                        $("#tgb_panels > li").eq($(this).index()).toggleClass("xactive");
                        $(this).toggleClass("xactive");
                    });
                    $(".accordion-tab").click(function () {
                        $("#tgb_tabs > li, #tgb_panels > li").removeClass("xactive");
                        $("#tgb_tabs > li").eq($(this).parent().index()).toggleClass("xactive");
                        $(this).parent().toggleClass("xactive");
                    });
                </script>
                        -->
            <!--
                            {% if statement_or_ratio != "ratios" %}
                <div class="table-responsive tstat0">
                    <table class="table">
                            <tbody class="lifetime">
                            <tr>
                                <td class="hist_measure">
                                    Cumulative, Total <br />(
                                    {{ earliest_year }}
                                    -
                                    {{ latest_year }}
                                    )
                                </td>
                                <td class="hist_stats">
                                    {{ lifetime_sum_all_metric }}
                                </td>
                                <td rowspan="2" class="subtd pct_chg_summary">
                                </td>
                            </tr>
                            </tbody>
                    </table>
                    </div>
                    {% endif %} -->
                    <!-- <hr class="stats_hr"> -->
                    <!-- <br> -->
                    <div class="table-responsive tstat1">
                        <table class="table">
                            <!-- <tr>
                                <td class="hist_measure">
                                    Change (
                                {{ earliest_year }}
                                -
                                {{ latest_year }}
                                )
                                </td>
                                <td class="hist_stats">
                                    <b>
                                        {{ historical_pct_chg }}
                                    </b>
                                </td>
                            </tr> -->
                            <!-- <tbody class="historical_metric_change"> -->
                            <!-- <tr>
                                <td class="hist_measure">
                                                            Change (Annual)
                                                        </td>
                                                        <td class="hist_stats">
                                                            {{ annual_pct_chg_str }}
                                                        </td></tr> -->
                            <tr>
                                <td class="subtd_header">
                                    <i class="material-icons stats-top">
                                        <!-- trending_up -->
                                        chevron_right
                                    </i>
                                    {{ latest_year }}
                                </td>
                                <td class="subtd_body">
                                    {{ latest_metric_str }}
                                </td>
                                <td rowspan="2" class="subtd pct_chg_summary big_cell">
                                    {{ hist_pct_chg_str }}{{earliest_latest_warning}}

                                    <br>
                                    <span class="over_x_years">
                                        (
                                    {{ annual_pct_chg_str }}
                                    / year avg)
                                    <!-- annual average) -->
                                    </span>
                                </td>
                                <!-- <td class="stock_price_rows">asdsa</td> -->
                                <!-- <td class="subtd">{{ annual_pct_chg_str }}</td> -->
                            </tr>
                            <tr>
                                <td class="subtd_header">
                                    <i class="material-icons stats-top">
                                        <!-- trending_up -->
                                        chevron_left
                                    </i>
                                    {{ earliest_year }}
                                </td>
                                <td class="subtd_body">
                                    {{ earliest_metric_str }}
                                </td>
                            </tr>
                        <!-- </tbody> -->
                    <!-- </table>
                    </div> -->
                    <!-- <div class="table-responsive tstat11">
                        <table class="table">
                            <tbody class="historical_metric_change">
                            <tr>
                                <td class="subtd_header">
                                    {{ earliest_year }} - {{ latest_year }}
                                </td>
                                <td class="subtd_body">
                                    {{ latest_metric_str }}
                                </td>
                                <td rowspan="2" class="subtd pct_chg_summary big_cell">
                                    {{ hist_pct_chg_str }}
                                    <br>
                                    <span class="over_x_years">
                                        (
                                    {{ annual_pct_chg_str }}
                                    /year avg)
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <td class="subtd_header">
                                    {{ earliest_metric_str }} - {{ latest_metric_str }}
                                </td>
                                <td class="subtd_body">
                                    {{ earliest_metric_str }}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    </div> -->
                    <!-- <hr class="stats_hr"> -->
                    <!-- <br> -->
                    <!-- <div class="table-responsive tstat2">
                        <table class="table"> -->
                    <!-- <tbody class="peakbottom"> -->
                    <tr>
                        <td class="hist_measure subtd_header">
                            <i class="material-icons stats-top">vertical_align_top</i> Peak
                        </td>
                        <td class="hist_stats middle">
                            {{ max_str }}
                        </td>
                        <td rowspan="2" class="subtd max_min_summary big_cell ">
                            {{ max_min_range_str }}
                            {{min_max_warning}}

                        </td>
                    </tr>
                    <tr>
                        <td class="hist_measure subtd_header">
                            <i class="material-icons  stats-bottom">vertical_align_bottom</i> Bottom
                        </td>
                        <td class="hist_stats middle">
                            {{ min_str }}
                        </td>
                    </tr>
                <!-- </tbody> -->
                    <!-- </table>
                    </div> -->
                    <!-- <hr class="stats_hr"> -->
                    <!-- <br> -->
                    <!-- <div class="table-responsive tstat3">
                        <table class="table"> -->
                <!-- <tbody class="updownyears"> -->
                    <tr>
                        <td class="hist_measure subtd_header">
                            <i class="material-icons stats-top">
                                <!-- trending_up -->
                                arrow_drop_up
                                <!-- align_vertical_bottom -->
                            </i> # Up Years
                            <!-- <br> <span class="font12">Positive YoY change (0%+)</span> -->
                        </td>
                        <td class="hist_stats middle">
                            {{ num_years_increased }}
                        </td>
                        <td rowspan="2" class="subtd big_cell big_up_year">
                            {{num_years_increased}} of {{num_years}} <br>years up.
                        </td>
                    </tr>
                    <tr>
                        <td class="hist_measure subtd_header">
                            <i class="material-icons stats-bottom">
                                <!-- trending_down -->
                                arrow_drop_down
                                <!-- align_vertical_top -->
                            </i> # Down Years
                            <!-- <br><span class="font12">Negative YoY change</span> -->
                        </td>
                        <td class="hist_stats middle">
                            {{ num_years_bad }}
                        </td>
                    </tr>
                    </tbody>
                    </table>
                    </div>
                    <!-- <hr class="stats_hr"> -->
                    <!-- <br> -->
                    <span class="font12">Up Years = Positive (0%+) YoY change</span><br>
                    <span class="font12">Down Years = Zero or Negative (0% or less) YoY change </span>
                    <br><br>


                    <h2 class="key_points">Key Points <span class="key_subtitle">(Stock Price Comparison)</span></h2>
                    <!-- <br> -->
                    <!-- <h4><span class="key_subtitle">Stock Price Comparison</span></h4> -->
                    <!-- <span class="key_body"> -->
                    <ul class="key_bullets">
                    <li>
                    {{ company_symbol }}'s
                    stock price has
                   
                    rallied
                    
                    drop
                    
                    <!-- nothing -->
                   
                    {{all_time_price_chg}}
                    from {{currency_symbol}}{{first_price}} in {{ earliest_year }}
                    <!-- from {{currency_symbol}}{{first_price}} to {{currency_symbol}}{{last_price}} -->
                    ,
                    or             <!-- {{ hist_pct_chg_str_no_arrow }} -->
                    {{price_metric_rate_change_str}}
                        <!-- {d% if statement_or_ratio != "ratios" %d} -->
                    
                    faster than it's fin_metric_name lower()
                    
                    the rate relative to it's  fin_metric_name lower()
             
                    over the same period.
                        </li>
                    <li>
                        <!-- <h3 class="bigif"> -->
                        If {{ company_symbol }}
  
                    grows
                  
                    shrinks

                    it's stock at the same rate as it's  fin_metric_name.lower()  ({{ annual_pct_chg_str }}/year) , it's stock price will
                
                    grow
                   
                    shrink
                   
                    <!-- nothing -->
                   
                    {{growth_10_years_str}} and
                    hit {{currency_symbol}}{{stock_price_10_years}} over the next 10 years.
                    <!-- </h3> -->
                    </li>
                    <!-- <ul><li>This the magic of compounding.</li></ul> -->
                    <li>
                        {{ company_symbol }}'s stock price has gone up {{price_increased_on_metric_up_years}} of the {{num_years_increased}} years ({{percent_correlation_str}}) it's fin_metric_name.lower() were also up.
                    
                    </ul>
                    {{min_max_disclaimer}}
                    <!-- </span> -->
                    <aside>
                    <span class="aside_points">Buy the Dataset</span>
                    <span class="aside_body">
                    <!-- <p>
                                The arithmetic mean is used to calculate annual percent change (as opposed to geometric mean).
                            </p> -->
                    <!-- <p>If you'd have invested in </p> -->
                    <!-- <p>
                        Save time and invest smart. Understand how
                    {{ company_symbol }}
                    stacks up to all its competitors."ratio"
                    </p> -->
                    {% if statement_or_ratio != "sratios" %}
                            <span class="pitch">Historical Financial Statements (1994 - Present)
                                <!-- for the  -->
                                <br>
                                Entire
                        {{ company_sector }}
                        Sector (1000+ stocks)
                        </span>
                    <a href="https://tendollardata.com/product/historical-financial-statements-data-dataset-all-us-stocks-equities-1994-present/">
                    <div class="button_div">
                        <button class="btn btn-primary button_buy" type="button">
                            Buy for $10
                        </button>
                    </div>
                    </a>

                    {% else %}
                    {% endif %}
                    </span>
                    </aside>
                    <!-- {{company_symbol}}
                    {{company_currency}}
                    {{company_exchange}}
                    {{company_industry}}
                    {{company_description}}
                    [[company_sector]]
                    [[company_country]]
                    [[company_ipo_date]] -->
                    <!-- <p>
                                to buy the RAW DATA for financial ratios . Ultimately, only high-level analysis in excel gives you the bigger picture
                            </p> -->
                    <!-- <p>
                    the chart data has been cleaned for the clearest analysis. We smooth seasonal spikes and fill in missing data with interpolated values. You can see the clearest historical trend this way. For the raw value, see the table below.
                    </p> -->
        </div>
    </div>







</div>
<!-- <div class="row horizontal_scroll">
  <div class="horizontal_grid-container">
  <main class="horizontal_grid-item main">
      <span class="five_year_section">5-Year Change 🚀</span>
    <div class="items">

        {{yoy_cards_html_joined}}

    </div>
  </main>
</div>
</div> -->
</div>



      <script id="rendered-js" >
const slider = document.querySelector('.items');
let isDown = false;
let startX;
let scrollLeft;

slider.addEventListener('mousedown', e => {
  isDown = true;
  slider.classList.add('active');
  startX = e.pageX - slider.offsetLeft;
  scrollLeft = slider.scrollLeft;
});
slider.addEventListener('mouseleave', () => {
  isDown = false;
  slider.classList.remove('active');
});
slider.addEventListener('mouseup', () => {
  isDown = false;
  slider.classList.remove('active');
});
slider.addEventListener('mousemove', e => {
  if (!isDown) return;
  e.preventDefault();
  const x = e.pageX - slider.offsetLeft;
  const walk = (x - startX) * 3; //scroll-fast
  slider.scrollLeft = scrollLeft - walk;
  console.log(walk);
});
    </script>




<div class="all_tabs_container">
<div class="content all_tabs">
    <div id="qaz_page-qaz_tabs" class="qaz_page-qaz_tabs-css rfv-parent">
        <ul id="qaz_tabs" class="qaz_tabs-css rfv-tabs">
            <li class="hr_one"><a href="#/" class="tabs_title_links"><div class="innerhref">Income Statement</div></a></li>
            <li class="hr_two"><a href="#/" class="tabs_title_links"><div class="innerhref">Balance Sheet</div></a></li>
            <li class="hr_three"><a href="#/" class="tabs_title_links"><div class="innerhref">Cash Flow Statement</div></a></li>
            <li class="hr_four"><a href="#/" class="tabs_title_links"><div class="innerhref">
                About the Company
                <!-- Our Data (free) -->
                <!-- and Datasets ($10) -->
            </div></a></li>
            <hr class="stickyhr" />
        </ul>
        <ul id="qaz_panels" class="qaz_panels-css rfv-panels paper">
            <li>
                {% for table in income_statement %}
                            <!-- titles loop.index x -->
                            {{ table|safe }}
                {% endfor %}
                {% for table in income_statement %}
                            <!-- titles loop.index x -->
                            {{ table|safe }}
                {% endfor %}
            </li>
            <li>
                {% for table in balance_sheet %}
                            <!-- titles loop.index x -->
                            {{ table|safe }}
                {% endfor %}

            </li>

            <li>
                {% for table in cash_flow %}
                            <!-- titles loop.index x -->
                            {{ table|safe }}
                {% endfor %}
            </li>
            <li>
                <span class="key_points">About {{company_name}}</span>
                    <span class="key_body">
                <br>
                <strong>Industry:</strong> {{company_industry}}
                <br>
                <strong>Sector:</strong> {{company_sector}}
                <br>
                <strong>Country:</strong> {{company_country}}
                <br>
                <strong>IPO Date:</strong> {{company_ipo_date}}
                <br>
                <strong>Stock Exchange:</strong> {{company_exchange}}
                <br>
                <ul>
                {{html_sentence_list}}
                </ul>
                <!-- {{company_description}} -->
        </span>
            </li>
        </ul>
    </div>
    <br>
{% include 'extended_tabs.html' %}
</div>
</div>
    <script>
        $('ol').filter(function(){
            return this.childNodes.length > 10
        }).addClass('twoColumns');
    </script>
<div class="content">
    <div class="container-fluid">
    </br>
    <div class="col">
        <div></div>
    </div>
</div>
</div>
<!-- <script src="https://code.highcharts.com/stock/modules/exporting.js"></script> -->
<script src="{{ url_for('static', filename='../static/js/sliding_tabs.js') }}"></script>



<script>
function checkForm() {
    var rows = document.getElementsByClassName("item-row");
    var arr = new Array();
    for (i = 0; i < rows.length; i++) {
        var cols = rows[i].getElementsByTagName("td");
        for (j = 0; j < cols.length; j++) {
            arr.push(cols[j].textContent);
        }
    }
}
</script>
<script>
$(document).ready( function () {
    // $('table.df_tableBoot').DataTable();
    $('.df_tableBoot').DataTable(
      {
         // "scrollX": true,
        columnDefs: [
          {
        // "width": "100%" , "targets": [0,1,2,3,4,5,6],
            "width": "1000","targets": "_all",
            render: function ( data, type, full, meta ) {
                if(type === 'display' && !isNaN(data*1) && data > 1000000000){
                    return (''+(data/1000000).toFixed(1) + '').toLocaleString();
                }
                else if(type === 'display' && !isNaN(data*1) && (data > 1000000 && data < 999999999)){
                    return (''+(data/1000000).toFixed(1) + '').toLocaleString();
                }
                else if(type === 'display' && !isNaN(data*1) && (data > 1000 && data < 999999)){
                    return (''+(data/1000000).toFixed(1) + '').toLocaleString();
                }
                else if(type === 'display' && !isNaN(data*1) && (data > .01 && data < 2) && data != 1){
                    return ((data*100).toFixed(0) + '%').toLocaleString();
                }
                else if(type === 'display' && !isNaN(data*1) && data < -1000000000){
                    return (''+(data/1000000).toFixed(1) + '').toLocaleString();
                }
                else if(type === 'display' && !isNaN(data*1) && (data < -1000000 && data > -999999999)){
                    return (''+(data/1000000).toFixed(1) + '').toLocaleString();
                }
                else if(type === 'display' && !isNaN(data*1) && (data < -1000 && data > -999999)){
                    return (''+(data/1000000).toFixed(1) + '').toLocaleString();
                }
                else if(type === 'display' && !isNaN(data*1) && (data < -.01 && data > -2) && data != 1){
                    return ((data*100).toFixed(0) + '%').toLocaleString();
                }
                else{
                    return data;
                }
            }
        }
        ,
        // { "width": "1000" , targets: [0,1,2,3,4,5,6]},
      ]
        ,
        dom: 'Bfrtip',
        paginate: false,
        // fixedHeader: false,
        // "sScrollX": "100%",
        // "sScrollXInner": "110%",
        // "bScrollCollapse": true,
        colReorder: true,
        // scrollY: 300,
buttons: [
    { extend: 'copy', text: '<span class="stats-top">Copy</span><i class="material-icons stats-top">content_copy</i>' },
    { extend: 'csv', text: '<span class="stats-top">CSV</span><i class="material-icons stats-top">table_chart</i>' },
    
]
                                    
              // "order": [[ 3, "desc" ]]
          }
    );
} );
</script>

{% endblock %}
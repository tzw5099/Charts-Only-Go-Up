var resultsDiv;var lastButton;var currentCountry="";var lastRequestTime;var dataSize=-1;var searchType;var searchClickSpan;var currentEquityType="";var currentSearchText;var currentDisplayType="";function openPage(pageUrl){var pel=document.getElementById("partnerSearch");if(pel){top.location.href=pageUrl;}else{pel=document.getElementById("partnerContent");if(pel){top.location.href=pageUrl;}else{document.location.href=pageUrl;}}}function hoverBuilderRowHighlight(block,on,evt,symbol,numberOfSharesOrClassOff){var delBlock=document.getElementById(symbol+"_del");var editBlock=document.getElementById(symbol+"_edit");var tipBlock=document.getElementById(symbol+"_tip");var holderBlock=document.getElementById("holder_"+symbol);if(on){if(!symbol){return;}if(delBlock!=null){delBlock.style.visibility="visible";}if(editBlock!=null){editBlock.style.visibility="visible";}if(tipBlock!=null){tipBlock.style.visibility="visible";}if(holderBlock!=null){holderBlock.style.background="transparent";holderBlock.style.color="#000000";}}else{if(!symbol){return;}if(delBlock!=null){delBlock.style.visibility="hidden";}if(editBlock!=null){editBlock.style.visibility="hidden";}if(tipBlock!=null){tipBlock.style.visibility="hidden";}if(holderBlock!=null){holderBlock.style.backgroundColor="transparent";holderBlock.style.color="#eeeeee";}if(numberOfSharesOrClassOff){if(numberOfSharesOrClassOff=='browserSearch'){block.className='browserSearch';}else if(numberOfSharesOrClassOff=='browserSearchEven'){block.className='browserSearchEven';}}else{block.className='browserSearch';}}}function clickOnSearch(symbol,name){viewMainSymbolLookup(symbol,true,name);removeResultsDiv();}function viewMainSymbolLookup(symbol,spanWindow,name){if(name){var name=name.split(' ').join('-');}var isWatchListEl=document.getElementById("isWatchList");var el=document.getElementById("partnerContent");var bel=document.getElementById("bigPartnerContent");var pel=document.getElementById("partnerSearch");var secl=document.getElementById("sec");var alphal=document.getElementById("alpha");var compareDiv=document.getElementById("selectCompareBoxResult");var currentDiv=document.getElementById("currentSymbol");if(compareDiv&&compareDiv.style.visibility!=''){var cSymbolEl=document.getElementById('symbolId');if(cSymbolEl&&currentDiv!=null){currentSymbol=currentDiv.value;postData="/?pitch=symbolCompareLookUp&s1="+currentSymbol+"&s2="+cSymbolEl.value+"&main=true";openPage(postData);return;}}if(el){postData="/widgets/partnerSymbolViewLookUpSummary.jsp?s="+symbol+"&main=true&gis=f";genericProgress(el);updater=new RemoteUpdater(postData,'POST',"partnerContent",null,RemoteUpdater.prototype.RESOLVE);updater.update();}else if(bel){postData="/bigPartnerSymbolViewLookUpSummary.jsp?s="+symbol+"&gis=f&main=true&ssd="+symbol+"&name="+symbol;genericProgress(bel);updater=new RemoteUpdater(postData,'POST',"bigPartnerContent",null,RemoteUpdater.prototype.RESOLVE);updater.update();}else if(pel){postData="/invest/market/"+symbol+"--"+name;top.location.href=postData;}else if(secl){postData="/invest/secFiling/"+symbol;top.location.href=postData;}else if(alphal){postData="/invest/alphaSearch/"+symbol;postData=addSuggestionDataToPost(postData);top.location.href=postData;}else{if(spanWindow){postData="/invest/market/"+symbol+"--"+name;top.location.href=postData;}else{postData="/invest/market/"+symbol+"--"+name;openPage(postData);}}}function removeResultsDiv(){if(resultsDiv){resultsDiv.style.visibility="hidden";}}function hoverPartnerCountryOn(country){if(country!=currentCountry){hoveredDiv=document.getElementById(country);hoveredDiv.className="hoveredPartnerCountryPick";}}function hoverPartnerCountryOff(country){if(country!=currentCountry){hoveredDiv=document.getElementById(country);hoveredDiv.className="countryPartnerPick";}}function setPartnerCountry(country){if(currentCountry){hoveredDiv=document.getElementById(currentCountry);hoveredDiv.className="countryPartnerPick";}currentCountry=country;if(currentCountry){hoveredDiv=document.getElementById(currentCountry);hoveredDiv.className="selectedPartnerCountryPick";}}function runSearch(){if(!searchType){searchType="company";}if(searchType=="company"){basicSearch();}else if(searchType=="adviser"){investorSearch();}else if(searchType=="returnScore"){scoreSearch(searchType);}else if(searchType=="riskScore"){scoreSearch(searchType);}else if(searchType=="totalScore"){scoreSearch(searchType);}else if(searchType=="reviewScore"){scoreSearch(searchType);}}function basicSearch(){closeTradeBox();resultsDiv=document.getElementById("selectCompareBoxResult");if(resultsDiv){resultsDiv.style.visibility='';}var marketSearchInput=document.getElementById('basicSearchBox');currentSearchText=marketSearchInput.value;if(!currentSearchText||currentSearchText==""||currentSearchText=="Type Symbol or Company Name..."||currentSearchText=="Type Equity..."){currentSearchText="a";return;}var requestTime=new Date().getMilliseconds();lastRequestTime=requestTime;resultsDiv=document.getElementById("searchBoxResultMain");setTimeout("showSearchResult('"+currentSearchText+"', 'searchBoxResultMain')",500)}function getCookie(szName){var szValue=null;if(document.cookie){var arr=document.cookie.split((escape(szName)+'='));if(2<=arr.length){var arr2=arr[1].split(';');szValue=unescape(arr2[0]);}}return szValue;}function addDatesToPost(postString){var ret=postString;var startDate=document.getElementById('startDate');if(startDate){var startDateValue=startDate.value;ret=ret+"&startDate"+"="+startDateValue;}var endDate=document.getElementById('endDate');if(endDate){var endDateValue=endDate.value;ret=ret+"&endDate"+"="+endDateValue;}return ret;}function investorSearch(){var investorSearchInput=document.getElementById('basicSearchBox');var str=investorSearchInput.value;if(!str||str==""){str="a";}var requestTime=new Date().getMilliseconds();lastRequestTime=requestTime;resultsDiv=document.getElementById("searchBoxResultMain");setTimeout("showInvestorSearchResult('"+str+"', 'searchBoxResultMain')",500)}function setPartnerEquityType(et){currentEquityType=et;}function setEquityType(et){currentEquityType=et;var marketSearchInput=document.getElementById('basicSearchBox');if(currentSearchText){marketSearchInput.value=currentSearchText;}resultsDiv=document.getElementById("selectSearchBoxResult");compareDiv=document.getElementById("selectCompareBoxResult");if(compareDiv&&compareDiv.style.visibility!=''){compareSearch();}else{if(resultsDiv){selectSearch();}else{basicSearch();setSearchTypeText();}}}function setDisplayType(dt){currentDisplayType=dt;}function setCountry(country){currentCountry=country;var marketSearchInput=document.getElementById('basicSearchBox');if(currentSearchText){marketSearchInput.value=currentSearchText;}resultsDiv=document.getElementById("selectSearchBoxResult");compareDiv=document.getElementById("selectCompareBoxResult");if(compareDiv&&compareDiv.style.visibility!=''){compareSearch();}else{if(resultsDiv){selectSearch();}else{basicSearch();setSearchTypeText();}}}function hoverEquityTypeOn(et){if(et!=currentEquityType){hoveredDiv=document.getElementById(et);hoveredDiv.className="hoveredSearchType";}}function hoverEquityTypeOff(et){if(et!=currentEquityType){hoveredDiv=document.getElementById(et);hoveredDiv.className="searchTypePick";}}function hoverCountryOn(country){if(country!=currentCountry){hoveredDiv=document.getElementById(country);hoveredDiv.className="hoveredCountryPick";}}function hoverCountryOff(country){if(country!=currentCountry){hoveredDiv=document.getElementById(country);hoveredDiv.className="countryPick";}}function hoverPartnerCountryOn(country){if(country!=currentCountry){hoveredDiv=document.getElementById(country);hoveredDiv.className="hoveredPartnerCountryPick";}}function scoreSearch(searchMethod){var str="";if(searchMethod=="totalScore"){var scoreSearchInput=document.getElementById('basicSearchBox');str=scoreSearchInput.value;}else if(searchMethod=="returnScore"){var scoreSearchInput=document.getElementById('basicSearchBox');str=scoreSearchInput.value;}else if(searchMethod=="riskScore"){var scoreSearchInput=document.getElementById('basicSearchBox');str=scoreSearchInput.value;}else if(searchMethod=="reviewScore"){var scoreSearchInput=document.getElementById('basicSearchBox');str=scoreSearchInput.value;}if(!str||str==""){str="90";}var requestTime=new Date().getMilliseconds();lastRequestTime=requestTime;resultsDiv=document.getElementById("searchBoxResultMain");setTimeout("showScoreSearchResult('"+str+"', 'searchBoxResultMain','"+searchMethod+"')",500)}function compareSearch(){resultsDiv=document.getElementById("searchBoxResultMain");resultsDiv.style.visibility='';var marketSearchInput=document.getElementById('symbolId');var str=marketSearchInput.value;if(!str||str==""){str="a";}var requestTime=new Date().getMilliseconds();lastRequestTime=requestTime;resultsDiv=document.getElementById("selectCompareBoxResult");setTimeout("showSearchResult('"+str+"', 'selectCompareBoxResult')",500)}function selectSearch(){selectSearch(false);}function selectSearch(isDigital){var portId=document.getElementById("pid");var pid=portId.value;var marketSearchInput=document.getElementById('symbolId');var str=marketSearchInput.value;if(!str||str==""){str="a";}var requestTime=new Date().getMilliseconds();lastRequestTime=requestTime;resultsDiv=document.getElementById("selectSearchBoxResult");if(isDigital){setTimeout("showDigitalSearchResult('"+str+"', 'selectSearchBoxResult', '"+pid+"')",500)}else{setTimeout("showSearchResult('"+str+"', 'selectSearchBoxResult', '"+pid+"')",500)}}function clickOnAdvisorSearch(aid,name){viewAdvisor(aid,name);removeResultsDiv();}function clickOnInvestorSearch(uid,isAdviser,name){viewNegotiation(uid,isAdviser,name);removeResultsDiv();}function clickToSelect(symbol,name){var marketSearchInput=document.getElementById('symbolId');marketSearchInput.value=symbol;var resultName=document.getElementById("selectedLogo");if(resultName){name=name.replace("-"," ");name=name.replace("-"," ");name=name.replace("-"," ");name=name.replace("-"," ");resultName.innerHTML=name;}removeResultsDiv();}function searchMarketPoUp(){var marketSearchInput=document.getElementById('searchMarket');var str=marketSearchInput.value;if(!str||str==""){str="a";}var requestTime=new Date().getMilliseconds();lastRequestTime=requestTime;resultsDiv=document.getElementById("searchBoxResult");setTimeout("addResultsDiv('"+str+"')",500)}function searchIndustryPoUp(){var marketSearchInput=document.getElementById('searchMarket');var str=marketSearchInput.value;if(!str||str==""){str="a";}var requestTime=new Date().getMilliseconds();lastRequestTime=requestTime;resultsDiv=document.getElementById("searchBoxResult");setTimeout("addResultsDiv('industry_"+str+"')",500)}function searchEtfPoUpMain(){var marketSearchInput=document.getElementById('searchEtf');var str=marketSearchInput.value;if(!str||str==""){str="a";}var requestTime=new Date().getMilliseconds();lastRequestTime=requestTime;resultsDiv=document.getElementById("searchBoxResultMain");setTimeout("showSearchResult('etf_"+str+"')",500)}function searchEtfPoUp(){var marketSearchInput=document.getElementById('searchEtf');var str=marketSearchInput.value;if(!str||str==""){str="a";}var requestTime=new Date().getMilliseconds();lastRequestTime=requestTime;resultsDiv=document.getElementById("searchBoxResult");setTimeout("addResultsDiv('etf_"+str+"')",500)}function addMarketResultDiv(str){var marketSearchInput=document.getElementById('searchMarket');setTimeout("addResultsDiv('"+str+"')",500)}function searchPopUpCustomFilter(screen){var str="_advanced";var requestTime=new Date().getMilliseconds();lastRequestTime=requestTime;resultsDiv=document.getElementById("searchBoxResult");if(screen=="sms"){setTimeout("addFundamentalsResultDiv('"+str+"')",500);}else if(screen=="sps"){setTimeout("addResultsDiv('"+str+"')",500);}else if(screen=="spv"){setTimeout("addVolatilityResultsDiv('"+str+"')",500);}else if(screen=="spp"){setTimeout("addPlotterResultsDiv('"+str+"')",500);}else if(screen=="spc"){setTimeout("addCompareResultsDiv('"+str+"')",500);}}function searchPopUpStandardFilter(screen){var str="_standard";var requestTime=new Date().getMilliseconds();lastRequestTime=requestTime;resultsDiv=document.getElementById("searchBoxResult");if(screen=="sms"){setTimeout("addFundamentalsResultDiv('"+str+"')",500);}else if(screen=="sps"){setTimeout("addResultsDiv('"+str+"')",500);}else if(screen=="spv"){setTimeout("addVolatilityResultsDiv('"+str+"')",500);}else if(screen=="spp"){setTimeout("addPlotterResultsDiv('"+str+"')",500);}else if(screen=="spc"){setTimeout("addCompareResultsDiv('"+str+"')",500);}}function runStandardFilter(screen,filter){var requestTime=new Date().getMilliseconds();lastRequestTime=requestTime;resultsDiv=document.getElementById("searchBoxResult");if(screen=="sms"){setTimeout("addFundamentalsResultDiv('"+filter+"')",500);}else if(screen=="sps"){setTimeout("addResultsDiv('"+filter+"')",500);}else if(screen=="spv"){setTimeout("addVolatilityResultsDiv('"+filter+"')",500);}else if(screen=="spp"){setTimeout("addPlotterResultsDiv('"+filter+"')",500);}else if(screen=="spc"){setTimeout("addCompareResultsDiv('"+filter+"')",500);}}function runCustomFilter(screen){setTimeout("updateCustomFilterSearchFromForm('fundamentalsSymbolLookUp.jsp')",500);}function searchFundamentalsPoUp(){var marketSearchInput=document.getElementById('searchMarket');var str=marketSearchInput.value;if(!str||str==""){str="_advanced";}var requestTime=new Date().getMilliseconds();lastRequestTime=requestTime;resultsDiv=document.getElementById("searchBoxResult");setTimeout("addFundamentalsResultDiv('"+str+"')",500);}function searchComparePopUp(){var marketSearchInput=document.getElementById('searchMarket');var str=marketSearchInput.value;if(!str||str==""){str="a";}var requestTime=new Date().getMilliseconds();lastRequestTime=requestTime;resultsDiv=document.getElementById("searchBoxResult");setTimeout("addCompareResultsDiv('"+str+"')",500);}function searchPlotterPopUp(){var marketSearchInput=document.getElementById('searchMarket');var str=marketSearchInput.value;if(!str||str==""){str="a";}var requestTime=new Date().getMilliseconds();lastRequestTime=requestTime;resultsDiv=document.getElementById("searchBoxResult");setTimeout("addPlotterResultsDiv('"+str+"')",500);}function addPlotterResultsDiv(str){updatePlotterSymbolLookUp(str);resultsDiv.style.visibility="visible";}function searchVolatilityPopUp(){var marketSearchInput=document.getElementById('searchMarket');var str=marketSearchInput.value;if(!str||str==""){str="a";}var requestTime=new Date().getMilliseconds();lastRequestTime=requestTime;resultsDiv=document.getElementById("searchBoxResult");setTimeout("addVolatilityResultsDiv('"+str+"')",500);}function addVolatilityResultsDiv(str){updateVolatilitySymbolLookUp(str);resultsDiv.style.visibility="visible";}function addCompareResultsDiv(str){updateCompareSymbolLookUp(str);resultsDiv.style.visibility="visible";}function addFundamentalsResultDiv(str){updateFundamentalsSymbolLookUp(str);resultsDiv.style.visibility="visible";}function showDigitalSearchResult(str,resultDiv,pid){updateSearchLookUpDigital(str,resultDiv,currentCountry,pid);resultsDiv.style.visibility="visible";}function showSearchResult(str,resultDiv,pid){updateSearchLookUpMain(str,resultDiv,currentCountry,currentEquityType,currentDisplayType,pid);resultsDiv.style.visibility="visible";}function showScoreSearchResult(str,resultDiv,searchMethod){updateScoreSearchLookUpMain(str,resultDiv,searchMethod);resultsDiv.style.visibility="visible";}function showInvestorSearchResult(str,resultDiv){updateInvestorSearchLookUpMain(str,resultDiv);resultsDiv.style.visibility="visible";}function addResultsDiv(str){updateSearchLookUp(str);resultsDiv.style.visibility="visible";}function removeResultsDiv(){if(resultsDiv){$("#"+resultsDiv.id).slideUp();}}function setSearchTypeText(){if(!searchType){searchType="company";}var investorSearchInput=document.getElementById('basicSearchBox');if(searchType=="company"){investorSearchInput.value="Type Equity...";}else if(searchType=="adviser"){investorSearchInput.value="Type Adviser Name or Location...";}else if(searchType=="returnScore"){investorSearchInput.value="Search Investors by Returns (type 0 to 100)...";}else if(searchType=="riskScore"){investorSearchInput.value="Search Investors by Risks (type 0 to 100)...";}else if(searchType=="totalScore"){investorSearchInput.value="Search Investors by Scores (type 0 to 100) ...";}else if(searchType=="reviewScore"){investorSearchInput.value="Search Investors by Reviews (type 0 to 100) ...";}}function setSearchType(st){searchType=st;setSearchTypeText();if(!searchClickSpan){searchClickSpan=document.getElementById("company_search");}searchClickSpan.className="toggleSearchTab";searchClickSpan=document.getElementById(st+"_search");searchClickSpan.className="toggleSearchTabSelected";}function searchSingleEntity(){vE=document.getElementById("q"),null==vE&&(vE=document.getElementById("basicSearchBox")),null!=vE&&(v=vE.value,currentCountry||(currentCountry="ALL"),currentEquityType||(currentEquityType="ALL"),v||(v="a"),post="/invest/allSearchResults/"+v+"/"+currentEquityType+"/5/"+currentCountry,top.location.href=post)}